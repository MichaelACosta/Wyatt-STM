<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Wyatt-STM: WSTM::WTransactionLocalValue&lt; Type_t &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wyatt-STM
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Software transactional memory system developed at Wyatt Technology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_w_s_t_m.html">WSTM</a></li><li class="navelem"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WTransactionLocalValue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_w_s_t_m_1_1_w_transaction_local_value-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WSTM::WTransactionLocalValue&lt; Type_t &gt; Class Template Reference<div class="ingroups"><a class="el" href="group___core.html">Core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A variable that has values "local" to a given transaction, sort of like a thread_local variable but for transactions instead of threads.  
 <a href="class_w_s_t_m_1_1_w_transaction_local_value.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stm_8h_source.html">stm.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9d546f61072fbe46765ca49c57f933b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d546f61072fbe46765ca49c57f933b6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#a9d546f61072fbe46765ca49c57f933b6">WTransactionLocalValue</a> ()</td></tr>
<tr class="memdesc:a9d546f61072fbe46765ca49c57f933b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an object. <br /></td></tr>
<tr class="separator:a9d546f61072fbe46765ca49c57f933b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1d78dc0296072ae2fefbbb16ad2a00"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e1d78dc0296072ae2fefbbb16ad2a00"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#a1e1d78dc0296072ae2fefbbb16ad2a00">WTransactionLocalValue</a> (const <a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WTransactionLocalValue</a> &amp;)=delete</td></tr>
<tr class="memdesc:a1e1d78dc0296072ae2fefbbb16ad2a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">No copying allowed. <br /></td></tr>
<tr class="separator:a1e1d78dc0296072ae2fefbbb16ad2a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b96def4cb1126e9d9a40a8577b0efd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9b96def4cb1126e9d9a40a8577b0efd"></a>
<a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WTransactionLocalValue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#af9b96def4cb1126e9d9a40a8577b0efd">operator=</a> (const <a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WTransactionLocalValue</a> &amp;)=delete</td></tr>
<tr class="memdesc:af9b96def4cb1126e9d9a40a8577b0efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">No copying allowed. <br /></td></tr>
<tr class="separator:af9b96def4cb1126e9d9a40a8577b0efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:af0e3d7c426670b57da31433d2e9aafb2"><td class="memItemLeft" align="right" valign="top">Type_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#af0e3d7c426670b57da31433d2e9aafb2">Get</a> (<a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;at)</td></tr>
<tr class="memdesc:af0e3d7c426670b57da31433d2e9aafb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current value of variable.  <a href="#af0e3d7c426670b57da31433d2e9aafb2">More...</a><br /></td></tr>
<tr class="separator:af0e3d7c426670b57da31433d2e9aafb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff032d28928b63132e3c44b9d0ddc75a"><td class="memItemLeft" align="right" valign="top">const Type_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#aff032d28928b63132e3c44b9d0ddc75a">Get</a> (<a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;at) const </td></tr>
<tr class="memdesc:aff032d28928b63132e3c44b9d0ddc75a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current value of variable.  <a href="#aff032d28928b63132e3c44b9d0ddc75a">More...</a><br /></td></tr>
<tr class="separator:aff032d28928b63132e3c44b9d0ddc75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a68c92752fbc8b8bfe3164ca5285c524a"><td class="memItemLeft" align="right" valign="top">Type_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#a68c92752fbc8b8bfe3164ca5285c524a">Set</a> (const Type_t &amp;value, <a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;at)</td></tr>
<tr class="memdesc:a68c92752fbc8b8bfe3164ca5285c524a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value for the current transaction.  <a href="#a68c92752fbc8b8bfe3164ca5285c524a">More...</a><br /></td></tr>
<tr class="separator:a68c92752fbc8b8bfe3164ca5285c524a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f16162ef3c4c5b02a1e1101c4b4666"><td class="memItemLeft" align="right" valign="top">Type_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html#a15f16162ef3c4c5b02a1e1101c4b4666">Set</a> (Type_t &amp;&amp;value, <a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;at)</td></tr>
<tr class="memdesc:a15f16162ef3c4c5b02a1e1101c4b4666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value for the current transaction.  <a href="#a15f16162ef3c4c5b02a1e1101c4b4666">More...</a><br /></td></tr>
<tr class="separator:a15f16162ef3c4c5b02a1e1101c4b4666"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Type_t&gt;<br />
class WSTM::WTransactionLocalValue&lt; Type_t &gt;</h3>

<p>A variable that has values "local" to a given transaction, sort of like a thread_local variable but for transactions instead of threads. </p>
<p>The variable starts out empty at the start of a transaction, in this state Get will return a null pointer. It stays that way until Set is called, after which Get will return a pointer to the set value. Any value that is set will only last until the transaction ends. Note that any value that is set will be gone by time the "after" actions for the transaction run, but will still be available during BeforeCommit actions. In child transactions the variable will contain the parent transaction's value at the start and any value set will become the parent's value when the child transaction commits. If the child transaction aborts then any values set in it will be thrown away and the parent transaction will continue to see the same value as it saw before the child transaction started. </p>

<p>Definition at line <a class="el" href="stm_8h_source.html#l01212">1212</a> of file <a class="el" href="stm_8h_source.html">stm.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af0e3d7c426670b57da31433d2e9aafb2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Type_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Type_t* <a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WSTM::WTransactionLocalValue</a>&lt; Type_t &gt;::Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;&#160;</td>
          <td class="paramname"><em>at</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current value of variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">at</td><td>The current transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the current value, will be null if no value has been set for this variable in the current transaction or one of it's parents. </dd></dl>

<p>Definition at line <a class="el" href="stm_8h_source.html#l01240">1240</a> of file <a class="el" href="stm_8h_source.html">stm.h</a>.</p>

</div>
</div>
<a class="anchor" id="aff032d28928b63132e3c44b9d0ddc75a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Type_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Type_t* <a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WSTM::WTransactionLocalValue</a>&lt; Type_t &gt;::Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;&#160;</td>
          <td class="paramname"><em>at</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current value of variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">at</td><td>The current transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the current value, will be null if no value has been set for this variable in the current transaction or one of it's parents. </dd></dl>

<p>Definition at line <a class="el" href="stm_8h_source.html#l01252">1252</a> of file <a class="el" href="stm_8h_source.html">stm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68c92752fbc8b8bfe3164ca5285c524a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Type_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Type_t&amp; <a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WSTM::WTransactionLocalValue</a>&lt; Type_t &gt;::Set </td>
          <td>(</td>
          <td class="paramtype">const Type_t &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;&#160;</td>
          <td class="paramname"><em>at</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the value for the current transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to set. This value will either be copied or moved depending on which variant of set was called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the new value in the variable. </dd></dl>

<p>Definition at line <a class="el" href="stm_8h_source.html#l01274">1274</a> of file <a class="el" href="stm_8h_source.html">stm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a15f16162ef3c4c5b02a1e1101c4b4666"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Type_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Type_t&amp; <a class="el" href="class_w_s_t_m_1_1_w_transaction_local_value.html">WSTM::WTransactionLocalValue</a>&lt; Type_t &gt;::Set </td>
          <td>(</td>
          <td class="paramtype">Type_t &amp;&amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a> &amp;&#160;</td>
          <td class="paramname"><em>at</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the value for the current transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to set. This value will either be copied or moved depending on which variant of set was called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the new value in the variable. </dd></dl>

<p>Definition at line <a class="el" href="stm_8h_source.html#l01282">1282</a> of file <a class="el" href="stm_8h_source.html">stm.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/projects/Wyatt-STM/wstm/<a class="el" href="stm_8h_source.html">stm.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
