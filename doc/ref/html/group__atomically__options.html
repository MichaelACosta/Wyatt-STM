<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Wyatt-STM: Options For Atomically</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wyatt-STM
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Software transactional memory system developed at Wyatt Technology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Options For Atomically<div class="ingroups"><a class="el" href="group___core.html">Core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>These are the types that can be passed to Atomically as extra arguments in order to set transaction options.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_w_s_t_m_1_1_w_max_conflicts.html">WSTM::WMaxConflicts</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the the maximum number of times that the operation should be re-run due to <a class="el" href="class_w_s_t_m_1_1_w_var.html" title="A transactional variable. ">WVar</a> changes by other threads before "conflict resolution" is used.  <a href="struct_w_s_t_m_1_1_w_max_conflicts.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_w_s_t_m_1_1_w_max_retries.html">WSTM::WMaxRetries</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of times that a transaction can call Retry.  <a href="struct_w_s_t_m_1_1_w_max_retries.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_w_s_t_m_1_1_w_max_retry_wait.html">WSTM::WMaxRetryWait</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum amount of time to wait for a when Retry is called.  <a href="struct_w_s_t_m_1_1_w_max_retry_wait.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4c9bddb0da5340c2288e5b68c5a1ee39"><td class="memTemplParams" colspan="2">template&lt;typename Op_t , typename... Options_t&gt; </td></tr>
<tr class="memitem:ga4c9bddb0da5340c2288e5b68c5a1ee39"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__atomically__options.html#ga4c9bddb0da5340c2288e5b68c5a1ee39">WSTM::Atomically</a> (const Op_t &amp;op, const Options_t &amp;...options) -&gt; typename std::enable_if&lt; std::is_same&lt; void, decltype(op(std::declval&lt; WAtomic &amp; &gt;()))&gt;::value, void &gt;::type    </td></tr>
<tr class="memdesc:ga4c9bddb0da5340c2288e5b68c5a1ee39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the given operation in an atomic fashion.  <a href="group__atomically__options.html#ga4c9bddb0da5340c2288e5b68c5a1ee39">More...</a><br /></td></tr>
<tr class="separator:ga4c9bddb0da5340c2288e5b68c5a1ee39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These are the types that can be passed to Atomically as extra arguments in order to set transaction options. </p>
<p>The order that you pass these objects to Atomically doesn't matter, just that they follow the function to be run in a transaction. If you pass multiple objects of the same type only the first will be used, the rest will be ignored. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga4c9bddb0da5340c2288e5b68c5a1ee39"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Op_t , typename... Options_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto WSTM::Atomically </td>
          <td>(</td>
          <td class="paramtype">const Op_t &amp;&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Options_t &amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; typename std::enable_if&lt;std::is_same&lt;void, decltype (op (std::declval&lt;<a class="el" href="class_w_s_t_m_1_1_w_atomic.html">WAtomic</a>&amp;&gt;()))&gt;::value, void&gt;::type
   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the given operation in an atomic fashion. </p>
<p>This means that when the operation runs any changes it makes to <a class="el" href="class_w_s_t_m_1_1_w_var.html" title="A transactional variable. ">WVar</a> object's are done in a transaction and will only be visible to other threads if the operation completes without any of the <a class="el" href="class_w_s_t_m_1_1_w_var.html" title="A transactional variable. ">WVar</a> object's that it reads being changed by another thread. If any of the <a class="el" href="class_w_s_t_m_1_1_w_var.html" title="A transactional variable. ">WVar</a> object's that it has read did change then the operation will be started over. Note that this means that the operation must only carry out idempotent operations as there is a chance that it will be run multiple times. Note that you can nest calls to Atomically all you want but if nested calls are retried or have conflicts then they will be abandoned and the operation for the first call to Atomically will be retried. To abort the atomic operation just throw any exception and catch it outside of the call to Atomically. The return value of Atomically will be the value returned by the operation being run.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>The operation to carry out. This function must have signature "result f(WAtomic&amp;)" where result is either void or a copy constructable type.</td></tr>
    <tr><td class="paramname">options</td><td>Arguments that set various options, see <a class="el" href="group__atomically__options.html">here</a> for options that are recognized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of op. </dd></dl>

<p>Definition at line <a class="el" href="stm_8h_source.html#l00871">871</a> of file <a class="el" href="stm_8h_source.html">stm.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
